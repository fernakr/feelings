!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,i){return(e=a(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,a(s.key),s)}}function o(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var n=s.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}window.s1=function(t){var e,i,r,a,c=[],l=[],h=0,u=!1,f="",d="start",y=function(){var t=document.getElementById("phrase");if(f=f.replace(/^\s+/,""),a&&f){var e=f.split(""),i=a.phrase.split(""),s=e.map((function(t,e){return'<span class="'.concat(t===i[e]?"is-correct":"",'">').concat(t,"</span>")}));t.innerHTML=s.join("")}else t.innerHTML="";t.classList.toggle("is-active",f.length>0)},p=function(){function i(s){var r=s.dots,o=s.attempt,a=s.dotSize,c=s.circlePos,l=s.intensity;n(this,i),this.circlePos=c,this.dots=r,this.dotSize=a,this.lifespan=30,this.life=0,this.intensity=l,this.targetPosition={y:t.height,includePos:!0},this.success="success"===o,this.success&&(this.targetPosition={x:e.x,y:e.y,includePos:!1}),this.color=this.success?"limegreen":"red"}return o(i,[{key:"draw",value:function(){for(var i=0;i<this.dots.length;i++){var s=this.dots[i];t.fill(t.color(t.color(this.color),255*s.opacity));var n={x:this.targetPosition.x?t.lerp(this.circlePos.x+s.x,this.targetPosition.x,this.life/this.lifespan):this.circlePos.x+s.x,y:t.lerp(this.circlePos.y+s.y,this.targetPosition.y+(this.targetPosition.includePos?s.y:0),this.life/this.lifespan)};t.circle(n.x,n.y,this.dotSize)}this.life++,this.life>this.lifespan&&(l.splice(l.indexOf(this),1),this.success&&(e.vPoints+=this.intensity,e.score+=this.intensity))}}]),i}(),v=o((function i(){var r=this;n(this,i),s(this,"getSize",(function(){var t=20+.5*r.vPoints;return t>r.maxVPoints?r.maxVPoints:t})),s(this,"draw",(function(){if("start"===d)r.y-=r.speed,r.y<t.height/2&&(d="play");else if(r.vPoints>0&&(r.vPoints-=.001),a){var i={x:t.width/2+(a.reverse?1:-1)*a.radius,y:a.y},s="success"===a.attempt?.1:r.speed/a.radius;r.theta+=s*a.thetaDirection,r.x=i.x+a.radius*t.cos(r.theta+a.thetaOffset),r.y=i.y+a.radius*t.sin(r.theta+a.thetaOffset),t.stroke("white"),t.noFill(),t.circle(i.x,i.y,2*a.radius),a.phrase===f&&"success"!==a.attempt&&(a.attempt="success"),t.abs(r.theta)>=t.TWO_PI-s&&(a.phrase!==f&&(a.attempt="fail"),a.burst=!0,l.push(new p(a)),a=null,r.active=!1,f="",y())}r.size=r.getSize(),t.noStroke(),t.fill(t.lerpColor(t.color("black"),t.color("hotpink"),r.vPoints/100)),t.circle(r.x,r.y,r.size),t.textAlign(t.LEFT,t.TOP),t.fill("hotpink"),t.textSize(20),t.text("Score: ".concat(e.score.toFixed(2)),10,10)})),this.y=t.height/2,this.speed=4,this.score=0,this.vPoints=0,this.maxVPoints=100,this.x=t.width/2,this.theta=0,this.active=!1})),g=o((function i(r){var o=this;n(this,i),s(this,"draw",(function(){o.y>t.height+o.planetSize/2&&(o.dead=!0),t.noStroke();var i=t.color(0,0,0);o.collided&&(i=t.color(255,255,0),"success"===o.attempt?i=t.color("limegreen"):"trying"===o.attempt?i=t.color("orange"):"fail"===o.attempt?i=t.color("red"):o.past&&(i=t.color(255,255,255))),t.fill(i,(30-o.intensity)/30*255),t.circle(o.x,o.y,10);if(o.radius=100+o.planetSize/2,o.circlePos={x:o.x+(o.reverse?1:-1)*o.radius,y:o.y},!o.burst)for(var s=0;s<o.dots.length;s++){var n=o.dots[s],r=t.color(i);r.r,r.g,r.b;t.fill(i.r,i.g,i.b,255*n.opacity),t.circle(o.circlePos.x+n.x+10*t.cos(.01*t.frameCount+n.x*n.y*2),o.circlePos.y+n.y+10*t.sin(.01*t.frameCount+n.x*n.y*2+t.PI/3),o.dotSize)}if("trying"===o.attempt){t.textAlign(t.CENTER,t.CENTER);var c=t.textWidth(o.phrase),l=t.textSize();t.noStroke(),t.fill("rgba(0,0,0,.5)"),t.rect(o.circlePos.x-c/2,o.circlePos.y-l/2,c,l),t.fill("hotpink"),t.textSize(20),t.text(o.phrase,o.circlePos.x,o.circlePos.y)}a||(o.y+=e.speed);t.abs(o.y-e.y)<o.size/2+4+e.size/2&&!o.collided&&!e.active&&(o.collided=!0),o.y>t.height/2+o.size/2+4&&(o.past=!0)})),this.index=r;this.intensity=10*Math.random()+10,this.size=(20-this.intensity)/20*10+30;var c=t.abs(t.height/2-this.y)/e.speed;this.planetSize=t.map(this.intensity,10,20,100,160),this.y=-this.planetSize,this.speed=t.width/2/c,this.x=t.width/2,this.collided=!1,this.attempt=null,this.burst=!1,this.past=!1,this.id=Math.random().toString(36).substr(2,9),this.reverse=u,u=!u,this.thetaDirection=this.reverse?1:-1,this.thetaOffset=this.reverse?t.PI:0;var l=["hello what is your name","are you okay","i am not okay","do you want to talk","i am here for you","i am here to help","i am here to listen"];this.phrase=l[Math.floor(Math.random()*l.length)],this.dots=[];for(var h=0;h<40*this.intensity;h++){var f=t.random(t.TWO_PI),d={x:this.planetSize/2*t.random()*t.cos(f),y:this.planetSize/2*t.random()*t.sin(f),opacity:t.random()};this.dots.push(d)}this.dotSize=this.planetSize/this.intensity/2})),m=o((function i(){var r=this;n(this,i),s(this,"draw",(function(){"play"!==d||a||(r.offset-=e.speed),t.drawingContext.setLineDash([10,15]),t.drawingContext.lineDashOffset=r.offset,t.stroke("#fff"),t.strokeWeight(1),t.line(t.width/2,0,t.width/2,t.height)})),this.offset=0}));t.setup=function(){t.createCanvas(t.windowHeight,t.windowHeight),i=new m,e=new v,r=t.height/3,c.push(new g(0))},t.draw=function(){if(a||(h+=e.speed),h>r&&(c.push(new g),h=0),t.background(t.color(100)),i.draw(),e.draw(),"start"===d);else if("play"===d){for(var s=0;s<c.length;s++)c[s].draw();c=c.filter((function(t){return!t.dead}));for(var n=0;n<l.length;n++)l[n].draw()}f&&y()},t.windowResized=function(){t.resizeCanvas(t.windowHeight,t.windowHeight)},t.keyPressed=function(){if(a)(t.keyCode>=65&&t.keyCode<=90||32===t.keyCode||8===t.keyCode)&&(8===t.keyCode?f=f.slice(0,-1):13===t.keyCode?f="":f+=t.key);else if(32===t.keyCode){var i=c.find((function(t){return t.collided&&!t.past}));i&&(e.active=!0,e.theta=0,i.attempt="trying",a=i);e.vPoints>0&&(e.vPoints-=5)}}},window.p5instance&&window.p5instance.remove(),window.p5instance=new p5(window.s1)}]);