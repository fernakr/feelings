!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){window.s1=function(e){var t,i,n=0,s=0,a=0,o=[{blueOffset:30,durationStart:10,itemTypes:[{name:"Car Accident",color:"#F33837",probability:5,values:{happiness:-10,energy:-10,mental:-10,money:-10}},{name:"Health Issue",color:"#F33837",probability:5,values:{happiness:-10,energy:-10,mental:-10,money:-10}},{name:"Breakup",color:"#F33837",probability:5,values:{happiness:-10,energy:-10,mental:-10}}]}],l=0,r=!1,h=!0,y=[],p=!1,u=0,d=0,c=[],f=96,g=0,m={happiness:100,energy:100,mental:100,money:50},v=Object.assign({},m);function b(t,i){this.path=0;var n=e.width/2,s=e.height;this.x=n,this.y=s,this.display=function(i){this.path+=5,this.y=s-this.path*e.sin(e.radians(90-t)),this.x=n+this.path*e.cos(e.radians(t-90)),e.stroke("#F33837"),e.strokeWeight(2),e.fill(255),e.ellipse(this.x,this.y,20,20),(this.x>e.width||this.x<0||this.y<0)&&c.splice(i,1)}}var k=[{name:"Clean",color:"green",probability:3,values:{happiness:2,energy:-2,mental:1,money:0}},{name:"Work",color:"blue",style:"dark",probability:20,values:{happiness:-1,energy:-5,mental:-2,money:7}},{name:"Cook",color:"#FFD95C",probability:3,values:{happiness:1,energy:-1,mental:0,money:-1}},{name:"Sleep",color:"cyan",probability:10,values:{happiness:0,energy:4,mental:1,money:0}},{name:"Hobby",color:"limegreen",probability:5,values:{happiness:3,energy:0,mental:1,money:-2}},{name:"Eat",color:"limegreen",probability:25,values:{happiness:0,energy:3,mental:1,money:-2}},{name:"Drink H20",color:"turquoise",probability:30,values:{happiness:0,energy:2,mental:1,money:0}},{name:"Doomscroll",color:"#F33837",probability:40,values:{happiness:-5,energy:-5,mental:-5,money:0}},{name:"Booze",color:"#F33837",probability:5,values:{happiness:1,mental:-1,money:-1,energy:0}},{name:"See Friends & Family",color:"green",probability:3,values:{happiness:5,mental:1,money:0,energy:-1}}];function x(){for(var e=0,t=[],i=0;i<k.length;i++){var n=k[i],s=e,a=e+n.probability;t.push({min:s,max:a,item:n}),e=a}return{probabilityRanges:t,probabilityMax:e}}var F=x(),w=F.probabilityRanges,S=F.probabilityMax;function E(t){this.life=0,this.lifeSpan=100,this.name=t.name,this.y=0,this.opacity=255,this.color=t.color,this.values=t.values,this.display=function(t){this.opacity=255-this.life/this.lifeSpan*255,this.life++,this.y+=1,this.life>this.lifeSpan&&O.splice(t),e.textAlign(e.CENTER),e.noStroke(),e.fill(e.color("navy"),100-this.life/this.lifeSpan*100),e.rect(e.width/2,e.height/2-this.y+40,180,130),e.textSize(15),e.fill(255,this.opacity),e.text("".concat(this.name),e.width/2,e.height/2-this.y);for(var i=0;i<Object.keys(this.values).length;i++)e.text(Object.keys(this.values)[i]+": "+Object.values(this.values)[i],e.width/2,e.height/2+30-this.y+20*i)}}function C(){var t=e.random(0,S),i=w.find((function(e){return t>=e.min&&t<e.max})).item;this.values=i.values,this.name=i.name,this.color=i.color,this.style=i.style,this.weight=2,this.x=e.random(-e.width/2,e.width),this.y=0,this.rotation=e.random(5,8),this.gravity=e.random(.4,1.5),this.fall=function(){this.y+=this.gravity},this.display=function(t){this.size=20,void 0!==this.deathCount&&(this.deathCount++,this.deathCount>=4&&y.splice(t,1));for(var i=0;i<c.length;i++)e.abs(e.dist(c[i].x,c[i].y,this.x,this.y))<20&&(this.color="#FFD95C",this.deathCount=0,O.push(new E(this)),h||p||(void 0!==this.values.energy&&(v.energy+=this.values.energy),void 0!==this.values.happiness&&(v.happiness+=this.values.happiness),void 0!==this.values.mental&&(v.mental+=this.values.mental),void 0!==this.values.money&&(v.money+=this.values.money),void 0!==this.values.happiness&&v.happiness>0&&(d=0)));(this.x>e.width+10||this.y<-10||this.y>e.height+10)&&y.splice(t,1),y.length<R&&e.frameCount%10==1&&y.push(new C),e.fill(255),e.stroke(this.color),e.textSize(25),e.textAlign(e.LEFT),e.text(this.name,this.x,this.y-10),e.strokeWeight(this.weight),e.push(),e.translate(this.x,this.y),e.rotate(this.rotation*(e.sin(e.frameCount/70+90*t)+e.cos(e.frameCount/100+20*t))),e.ellipse(0,0,3,3),e.noFill(),e.strokeWeight(1),e.ellipse(0,0,this.size,this.size),e.line(0,0,8,0),e.triangle(8,1,8,-1,9,0),e.pop()}}var R=20;e.preload=function(){t=e.loadFont("./Pixel12x10.ttf"),i=e.loadFont("./Pixelmania.ttf")},e.setup=function(){e.createCanvas(1e3,600).parent("content");for(var t=0;t<R;t++)y.push(new C)};var O=[];function T(t,i,n){var s=e.keyFill,a=e.keyStroke;e.keyIsPressed&&(n&&e.keyCode==e.RIGHT_ARROW||!n&&e.keyCode==e.LEFT_ARROW)&&(s=e.keyStroke,a=e.keyFill),e.fill(s),e.rect(t,i,40,35),e.fill(a);var o=4;n&&(o*=-1),e.triangle(t-o,i,t+o,i+4,t+o,i-4)}e.draw=function(){a=0,s=0;var m=o.find((function(e){return l/24>e.durationStart}));if(m){n=m.blueOffset,k=k.concat(m.itemTypes);var b=x();S=b.probabilityMax,w=b.probabilityRanges,o.splice(o.indexOf(m),1)}if("left"===r&&g>-90&&(g-=2),"right"===r&&g<90&&(g+=2),!p){u++,d++;.025*u/24>1&&(v.energy-=.1),.025*d/24>3&&(v.happiness-=.1),v.happiness<=25&&(a=-50,s=-50,v.energy-=.01,v.mental-=.01),v.energy<=25&&(a=50,v.mental-=.01),v.mental<=25&&(a=50,v.energy-=.01),v.money<=25&&(v.mental-=.01,v.energy-=.01),v.energy>100&&(v.energy=100),v.happiness>100&&(v.happiness=100),v.mental>100&&(v.mental=100)}e.background(12+a,12+s,f+n,90),e.fill(255),e.stroke("#F33837"),v.energy<=0&&(p=!0,e.textAlign(e.CENTER),e.text("GAME OVER",e.width/2,e.height/2),e.text("You lasted for "+(l/24).toFixed(1)+" days",e.width/2,e.height/2+30),e.textSize(15),e.text("Hit ENTER to restart",e.width/2,e.height/2+60)),e.textAlign(e.LEFT),e.textSize(25);for(var F=0;F<Object.values(v).length;F++){var E=Math.round(Object.values(v)[F]);e.fill(E>25?"white":"#FFD95C"),e.textFont(t),e.text(Object.keys(v)[F]+": "+E,10,e.height-10-30*F),e.textAlign(e.LEFT)}for(var C=0;C<O.length;C++)O[C].display(C);v.energy<0&&(v.energy=0),v.happiness<0&&(v.happiness=0),v.mental<0&&(v.mental=0);for(var R=0;R<y.length;R++)y[R].fall(),y[R].display(R);if(h){e.background(12,12,f+n,150),e.textAlign(e.CENTER),e.rectMode(e.CENTER),e.strokeWeight(4),e.blendMode(e.DIFFERENCE),e.translate(0,40),e.textFont(i),e.textSize(40),e.fill("#fff"),e.stroke("#F33837"),e.textLeading(60),e.text("THE\nSTRUGGLE\nIS REAL",e.width/2,e.height/2-200),e.blendMode(e.NORMAL),e.textFont(t),e.strokeWeight(1),e.translate(0,80),e.keyStroke=e.color("#F33837"),e.keyFill=e.color(255),e.keyStrokePressed=e.color(255),e.keyFillPressed=e.color("#F33837");var A=e.keyStroke,j=e.keyFill;e.keyIsPressed&&32==e.keyCode&&(A=e.keyFill,j=e.keyStroke),e.stroke(A),e.fill(j),e.rect(e.width/2,e.height/2-30,120,40),T(e.width/2-40,e.height/2-95),T(e.width/2+40,e.height/2-95,!0),e.noStroke(),e.textSize(15),e.fill(A),e.text("SPACE",e.width/2,e.height/2-25),e.fill(j),e.stroke(A),e.stroke(A),e.fill(j),e.stroke(A),e.push(),e.noStroke(),e.text("ENTER TO START",e.width/2,e.height/2+75)}else e.textSize(15),e.noStroke(),e.textAlign(e.LEFT),e.text("Duration: "+(l/24).toFixed(1)+" days",10,30),p||(l+=.025);e.fill(255),e.strokeWeight(2),e.stroke(255),e.push(),e.translate(e.width/2,e.height),e.rotate(e.radians(g)),e.line(0,0,0,-20),e.pop();for(R=0;R<c.length;R++)c[R].display(R)},e.keyReleased=function(){f=96,e.keyIsPressed||(r=!1)},e.keyPressed=function(){e.keyCode===e.ENTER?(0==v.energy&&(l=0,p=!1,v=Object.assign({},m),u=0,d=0,s=0,n=0,a=0),h=!1):32===e.keyCode&&v.energy>0?(u=0,c.push(new b(g)),f=130,h||(v.energy-=1)):e.keyCode===e.LEFT_ARROW?r="left":e.keyCode===e.RIGHT_ARROW&&(r="right")}},window.p5instance&&window.p5instance.remove(),window.p5instance=new p5(window.s1)}]);