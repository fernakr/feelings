!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){window.s1=function(e){var t=0,i=0,n=0,s=[{blueOffset:30,durationStart:10,itemTypes:[{name:"Car Accident",color:"red",probability:5,values:{happiness:-10,energy:-10,mental:-10,money:-10}},{name:"Health Issue",color:"red",probability:5,values:{happiness:-10,energy:-10,mental:-10,money:-10}},{name:"Breakup",color:"red",probability:5,values:{happiness:-10,energy:-10,mental:-10}}]}],a=0,r=!1,o=!0,l=[],h=!1,y=0,p=0,u=[],c=96,d=0,f={happiness:100,energy:100,mental:100,money:50},g=Object.assign({},f);function m(t,i){this.path=0;var n=e.width/2,s=e.height;this.x=n,this.y=s,this.display=function(i){this.path+=5,this.y=s-this.path*e.sin(e.radians(90-t)),this.x=n+this.path*e.cos(e.radians(t-90)),e.stroke(255,0,0),e.strokeWeight(2),e.fill(255),e.ellipse(this.x,this.y,20,20),(this.x>e.width||this.x<0||this.y<0)&&u.splice(i,1)}}var v=[{name:"Clean",color:"green",probability:3,values:{happiness:2,energy:-2,mental:1,money:0}},{name:"Work",color:"blue",probability:20,values:{happiness:-1,energy:-5,mental:-2,money:7}},{name:"Cook",color:"yellow",probability:3,values:{happiness:1,energy:-1,mental:0,money:-1}},{name:"Sleep",color:"cyan",probability:10,values:{happiness:0,energy:4,mental:1,money:0}},{name:"Hobby",color:"limegreen",probability:5,values:{happiness:3,energy:0,mental:1,money:-2}},{name:"Eat",color:"limegreen",probability:25,values:{energy:3,mental:1,money:-2}},{name:"Drink H20",color:"turquoise",probability:30,values:{happiness:0,energy:2,mental:1,money:0}},{name:"Doomscroll",color:"red",probability:30,values:{happiness:-3,energy:-2,mental:-1,money:0}},{name:"Booze",color:"red",probability:5,values:{happiness:1,mental:-1,money:-1,energy:0}},{name:"See Friends & Family",color:"green",probability:3,values:{happiness:5,mental:1,money:0,energy:-1}}];function b(){for(var e=0,t=[],i=0;i<v.length;i++){var n=v[i],s=e,a=e+n.probability;t.push({min:s,max:a,item:n}),e=a}return{probabilityRanges:t,probabilityMax:e}}var k=b(),x=k.probabilityRanges,w=k.probabilityMax;function S(t){this.life=0,this.lifeSpan=100,this.name=t.name,this.y=0,this.opacity=255,this.color=t.color,this.values=t.values,this.display=function(t){this.opacity=255-this.life/this.lifeSpan*255,this.life++,this.y+=1,this.life>this.lifeSpan&&C.splice(t),e.textAlign(e.CENTER),e.noStroke(),e.fill(e.color("navy"),100-this.life/this.lifeSpan*100),e.rect(e.width/2,e.height/2-this.y+40,130,130),e.textSize(15),e.fill(255,this.opacity),e.text("".concat(this.name),e.width/2,e.height/2-this.y);for(var i=0;i<Object.keys(this.values).length;i++)e.text(Object.keys(this.values)[i]+": "+Object.values(this.values)[i],e.width/2,e.height/2+30-this.y+20*i)}}function E(){var t=e.random(0,w),i=x.find((function(e){return t>=e.min&&t<e.max})).item;this.values=i.values,this.name=i.name,this.color=i.color,this.weight=2,this.x=e.random(-e.width/2,e.width),this.y=0,this.rotation=e.random(5,8),this.gravity=e.random(.4,1.5),this.fall=function(){this.y+=this.gravity},this.display=function(t){this.size=20,void 0!==this.deathCount&&(this.deathCount++,this.deathCount>=4&&l.splice(t,1));for(var i=0;i<u.length;i++)e.abs(e.dist(u[i].x,u[i].y,this.x,this.y))<20&&(this.color="yellow",this.deathCount=0,C.push(new S(this)),o||h||(void 0!==this.values.energy&&(g.energy+=this.values.energy),void 0!==this.values.happiness&&(g.happiness+=this.values.happiness),void 0!==this.values.mental&&(g.mental+=this.values.mental),void 0!==this.values.money&&(g.money+=this.values.money),void 0!==this.values.happiness&&g.happiness>0&&(p=0)));(this.x>e.width+10||this.y<-10||this.y>e.height+10)&&l.splice(t,1),l.length<O&&e.frameCount%10==1&&l.push(new E),e.fill(255),e.stroke(this.color),e.textSize(25),e.textAlign(e.LEFT),e.text(this.name,this.x,this.y-10),e.strokeWeight(this.weight),e.push(),e.translate(this.x,this.y),e.rotate(this.rotation*(e.sin(e.frameCount/70+90*t)+e.cos(e.frameCount/100+20*t))),e.ellipse(0,0,3,3),e.noFill(),e.strokeWeight(1),e.ellipse(0,0,this.size,this.size),e.line(0,0,8,0),e.triangle(8,1,8,-1,9,0),e.pop()}}var O=20;e.setup=function(){e.createCanvas(1e3,600).parent("content");for(var t=0;t<O;t++)l.push(new E)};var C=[];function R(t,i,n){var s=e.keyFill,a=e.keyStroke;e.keyIsPressed&&(n&&e.keyCode==e.RIGHT_ARROW||!n&&e.keyCode==e.LEFT_ARROW)&&(s=e.keyStroke,a=e.keyFill),e.fill(s),e.rect(t,i,40,35),e.fill(a);var r=4;n&&(r*=-1),e.triangle(t-r,i,t+r,i+4,t+r,i-4)}e.draw=function(){var f=s.find((function(e){return a/24>e.durationStart}));if(f){t=f.blueOffset,v=v.concat(f.itemTypes);var m=b();w=m.probabilityMax,x=m.probabilityRanges,s.splice(s.indexOf(f),1)}"left"===r&&d>-90&&(d-=2),"right"===r&&d<90&&(d+=2),e.background(12+n,12+i,c+t,90),e.fill(255),e.stroke(255,0,0),g.energy<=0&&(h=!0,e.textAlign(e.CENTER),e.text("GAME OVER",e.width/2,e.height/2),e.text("You lasted for "+(a/24).toFixed(1)+" days",e.width/2,e.height/2+30),e.textSize(15),e.text("Hit ENTER to restart",e.width/2,e.height/2+60)),e.textAlign(e.LEFT),e.textSize(25);for(var k=0;k<Object.values(g).length;k++){var S=Math.round(Object.values(g)[k]);e.fill(S>25?"white":"red"),e.text(Object.keys(g)[k]+": "+S,10,e.height-10-30*k),e.textAlign(e.LEFT)}for(var E=0;E<C.length;E++)C[E].display(E);if(!h){y++,p++;.025*y/24>1&&(g.energy-=.1),.025*p/24>3&&(g.happiness-=.1),g.happiness<=25&&(n=-50,i=50,g.energy-=.01,g.mental-=.01),g.energy<=25&&(n=50,g.mental-=.01),g.mental<=25&&(n=50,g.energy-=.01),g.money<=25&&(g.mental-=.01,g.energy-=.01),g.energy>100&&(g.energy=100),g.happiness>100&&(g.happiness=100),g.mental>100&&(g.mental=100)}g.energy<0&&(g.energy=0),g.happiness<0&&(g.happiness=0),g.mental<0&&(g.mental=0);for(var O=0;O<l.length;O++)l[O].fall(),l[O].display(O);if(o){e.background(12,12,c+t,150),e.textAlign(e.CENTER),e.rectMode(e.CENTER),e.strokeWeight(1),e.keyStroke=e.color(255,0,0),e.keyFill=e.color(255),e.keyStrokePressed=e.color(255),e.keyFillPressed=e.color(255,0,0);var T=e.keyStroke,F=e.keyFill;e.keyIsPressed&&32==e.keyCode&&(T=e.keyFill,F=e.keyStroke),e.stroke(T),e.fill(F),e.rect(e.width/2,e.height/2-30,120,40),R(e.width/2-40,e.height/2-95),R(e.width/2+40,e.height/2-95,!0),e.noStroke(),e.textSize(15),e.fill(T),e.text("SPACE",e.width/2,e.height/2-25),e.fill(F),e.stroke(T),e.stroke(T),e.fill(F),e.stroke(T),e.push(),e.noStroke(),e.text("ENTER TO start",e.width/2,e.height/2+75)}else e.textSize(15),e.noStroke(),e.textAlign(e.LEFT),e.text("Duration: "+(a/24).toFixed(1)+" days",10,30),h||(a+=.025);e.fill(255),e.strokeWeight(2),e.stroke(255),e.push(),e.translate(e.width/2,e.height),e.rotate(e.radians(d)),e.line(0,0,0,-20),e.pop();for(O=0;O<u.length;O++)u[O].display(O)},e.keyReleased=function(){c=96,e.keyIsPressed||(r=!1)},e.keyPressed=function(){e.keyCode===e.ENTER?(0==g.energy&&(a=0,h=!1,g=Object.assign({},f),y=0,p=0,i=0,t=0,n=0),o=!1):32===e.keyCode&&g.energy>0?(y=0,u.push(new m(d)),c=130,o||(g.energy-=1)):e.keyCode===e.LEFT_ARROW?r="left":e.keyCode===e.RIGHT_ARROW&&(r="right")}},window.p5instance&&window.p5instance.remove(),window.p5instance=new p5(window.s1)}]);