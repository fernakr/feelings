!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){window.s1=function(e){var t,i=0,n=0,s=0,a=[{blueOffset:30,durationStart:10,itemTypes:[{name:"Car Accident",color:"red",probability:5,values:{happiness:-10,energy:-10,mental:-10,money:-10}},{name:"Health Issue",color:"red",probability:5,values:{happiness:-10,energy:-10,mental:-10,money:-10}},{name:"Breakup",color:"red",probability:5,values:{happiness:-10,energy:-10,mental:-10}}]}],o=0,r=!1,l=!0,h=[],y=!1,p=0,u=0,c=[],d=96,f=0,g={happiness:100,energy:100,mental:100,money:50},m=Object.assign({},g);function v(t,i){this.path=0;var n=e.width/2,s=e.height;this.x=n,this.y=s,this.display=function(i){this.path+=5,this.y=s-this.path*e.sin(e.radians(90-t)),this.x=n+this.path*e.cos(e.radians(t-90)),e.stroke(255,0,0),e.strokeWeight(2),e.fill(255),e.ellipse(this.x,this.y,20,20),(this.x>e.width||this.x<0||this.y<0)&&c.splice(i,1)}}var b=[{name:"Clean",color:"green",probability:3,values:{happiness:2,energy:-2,mental:1,money:0}},{name:"Work",color:"blue",probability:20,values:{happiness:-1,energy:-5,mental:-2,money:7}},{name:"Cook",color:"yellow",probability:3,values:{happiness:1,energy:-1,mental:0,money:-1}},{name:"Sleep",color:"cyan",probability:10,values:{happiness:0,energy:4,mental:1,money:0}},{name:"Hobby",color:"limegreen",probability:5,values:{happiness:3,energy:0,mental:1,money:-2}},{name:"Eat",color:"limegreen",probability:25,values:{happiness:0,energy:3,mental:1,money:-2}},{name:"Drink H20",color:"turquoise",probability:30,values:{happiness:0,energy:2,mental:1,money:0}},{name:"Doomscroll",color:"red",probability:40,values:{happiness:-5,energy:-5,mental:-5,money:0}},{name:"Booze",color:"red",probability:5,values:{happiness:1,mental:-1,money:-1,energy:0}},{name:"See Friends & Family",color:"green",probability:3,values:{happiness:5,mental:1,money:0,energy:-1}}];function k(){for(var e=0,t=[],i=0;i<b.length;i++){var n=b[i],s=e,a=e+n.probability;t.push({min:s,max:a,item:n}),e=a}return{probabilityRanges:t,probabilityMax:e}}var x=k(),w=x.probabilityRanges,S=x.probabilityMax;function E(t){this.life=0,this.lifeSpan=100,this.name=t.name,this.y=0,this.opacity=255,this.color=t.color,this.values=t.values,this.display=function(t){this.opacity=255-this.life/this.lifeSpan*255,this.life++,this.y+=1,this.life>this.lifeSpan&&R.splice(t),e.textAlign(e.CENTER),e.noStroke(),e.fill(e.color("navy"),100-this.life/this.lifeSpan*100),e.rect(e.width/2,e.height/2-this.y+40,180,130),e.textSize(15),e.fill(255,this.opacity),e.text("".concat(this.name),e.width/2,e.height/2-this.y);for(var i=0;i<Object.keys(this.values).length;i++)e.text(Object.keys(this.values)[i]+": "+Object.values(this.values)[i],e.width/2,e.height/2+30-this.y+20*i)}}function O(){var t=e.random(0,S),i=w.find((function(e){return t>=e.min&&t<e.max})).item;this.values=i.values,this.name=i.name,this.color=i.color,this.weight=2,this.x=e.random(-e.width/2,e.width),this.y=0,this.rotation=e.random(5,8),this.gravity=e.random(.4,1.5),this.fall=function(){this.y+=this.gravity},this.display=function(t){this.size=20,void 0!==this.deathCount&&(this.deathCount++,this.deathCount>=4&&h.splice(t,1));for(var i=0;i<c.length;i++)e.abs(e.dist(c[i].x,c[i].y,this.x,this.y))<20&&(this.color="yellow",this.deathCount=0,R.push(new E(this)),l||y||(void 0!==this.values.energy&&(m.energy+=this.values.energy),void 0!==this.values.happiness&&(m.happiness+=this.values.happiness),void 0!==this.values.mental&&(m.mental+=this.values.mental),void 0!==this.values.money&&(m.money+=this.values.money),void 0!==this.values.happiness&&m.happiness>0&&(u=0)));(this.x>e.width+10||this.y<-10||this.y>e.height+10)&&h.splice(t,1),h.length<C&&e.frameCount%10==1&&h.push(new O),e.fill(255),e.stroke(this.color),e.textSize(25),e.textAlign(e.LEFT),e.text(this.name,this.x,this.y-10),e.strokeWeight(this.weight),e.push(),e.translate(this.x,this.y),e.rotate(this.rotation*(e.sin(e.frameCount/70+90*t)+e.cos(e.frameCount/100+20*t))),e.ellipse(0,0,3,3),e.noFill(),e.strokeWeight(1),e.ellipse(0,0,this.size,this.size),e.line(0,0,8,0),e.triangle(8,1,8,-1,9,0),e.pop()}}var C=20;e.preload=function(){t=e.loadFont("./Pixel12x10.ttf")},e.setup=function(){e.createCanvas(1e3,600).parent("content");for(var t=0;t<C;t++)h.push(new O)};var R=[];function T(t,i,n){var s=e.keyFill,a=e.keyStroke;e.keyIsPressed&&(n&&e.keyCode==e.RIGHT_ARROW||!n&&e.keyCode==e.LEFT_ARROW)&&(s=e.keyStroke,a=e.keyFill),e.fill(s),e.rect(t,i,40,35),e.fill(a);var o=4;n&&(o*=-1),e.triangle(t-o,i,t+o,i+4,t+o,i-4)}e.draw=function(){s=0,n=0;var g=a.find((function(e){return o/24>e.durationStart}));if(g){i=g.blueOffset,b=b.concat(g.itemTypes);var v=k();S=v.probabilityMax,w=v.probabilityRanges,a.splice(a.indexOf(g),1)}if("left"===r&&f>-90&&(f-=2),"right"===r&&f<90&&(f+=2),!y){p++,u++;.025*p/24>1&&(m.energy-=.1),.025*u/24>3&&(m.happiness-=.1),m.happiness<=25&&(s=-50,n=-50,m.energy-=.01,m.mental-=.01),m.energy<=25&&(s=50,m.mental-=.01),m.mental<=25&&(s=50,m.energy-=.01),m.money<=25&&(m.mental-=.01,m.energy-=.01),m.energy>100&&(m.energy=100),m.happiness>100&&(m.happiness=100),m.mental>100&&(m.mental=100)}e.background(12+s,12+n,d+i,90),e.fill(255),e.stroke(255,0,0),m.energy<=0&&(y=!0,e.textAlign(e.CENTER),e.text("GAME OVER",e.width/2,e.height/2),e.text("You lasted for "+(o/24).toFixed(1)+" days",e.width/2,e.height/2+30),e.textSize(15),e.text("Hit ENTER to restart",e.width/2,e.height/2+60)),e.textAlign(e.LEFT),e.textSize(25);for(var x=0;x<Object.values(m).length;x++){var E=Math.round(Object.values(m)[x]);e.fill(E>25?"white":"yellow"),e.textFont(t),e.text(Object.keys(m)[x]+": "+E,10,e.height-10-30*x),e.textAlign(e.LEFT)}for(var O=0;O<R.length;O++)R[O].display(O);m.energy<0&&(m.energy=0),m.happiness<0&&(m.happiness=0),m.mental<0&&(m.mental=0);for(var C=0;C<h.length;C++)h[C].fall(),h[C].display(C);if(l){e.background(12,12,d+i,150),e.textAlign(e.CENTER),e.rectMode(e.CENTER),e.strokeWeight(1),e.keyStroke=e.color(255,0,0),e.keyFill=e.color(255),e.keyStrokePressed=e.color(255),e.keyFillPressed=e.color(255,0,0);var F=e.keyStroke,j=e.keyFill;e.keyIsPressed&&32==e.keyCode&&(F=e.keyFill,j=e.keyStroke),e.stroke(F),e.fill(j),e.rect(e.width/2,e.height/2-30,120,40),T(e.width/2-40,e.height/2-95),T(e.width/2+40,e.height/2-95,!0),e.noStroke(),e.textSize(15),e.fill(F),e.text("SPACE",e.width/2,e.height/2-25),e.fill(j),e.stroke(F),e.stroke(F),e.fill(j),e.stroke(F),e.push(),e.noStroke(),e.text("ENTER TO start",e.width/2,e.height/2+75)}else e.textSize(15),e.noStroke(),e.textAlign(e.LEFT),e.text("Duration: "+(o/24).toFixed(1)+" days",10,30),y||(o+=.025);e.fill(255),e.strokeWeight(2),e.stroke(255),e.push(),e.translate(e.width/2,e.height),e.rotate(e.radians(f)),e.line(0,0,0,-20),e.pop();for(C=0;C<c.length;C++)c[C].display(C)},e.keyReleased=function(){d=96,e.keyIsPressed||(r=!1)},e.keyPressed=function(){e.keyCode===e.ENTER?(0==m.energy&&(o=0,y=!1,m=Object.assign({},g),p=0,u=0,n=0,i=0,s=0),l=!1):32===e.keyCode&&m.energy>0?(p=0,c.push(new v(f)),d=130,l||(m.energy-=1)):e.keyCode===e.LEFT_ARROW?r="left":e.keyCode===e.RIGHT_ARROW&&(r="right")}},window.p5instance&&window.p5instance.remove(),window.p5instance=new p5(window.s1)}]);